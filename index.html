<html>
<head>
  <meta charset="utf-8">
  <title>Rock Paper Scissors</title>
 
  </head>
<body>
<h1>Choose rock, paper or scissors</h1>
    <button class='rock' onclick="game('rock')">Rock</button>
    <button class='paper' onclick="game('paper')">Paper</button>
    <button class='scissors' onclick="game('scissors')" >Scissors</button>
    <div class='results'></div>
  <script>
    let playerScore = 0;
    let computerScore = 0;
    let round = 0;
    const para = document.createElement('p');
    const container = document.querySelector('div');
    let gameChoices = ['rock','paper','scissors'];
    function computerPlay(){
      let randomNumber = Math.floor(Math.random()*gameChoices.length);
      return gameChoices[randomNumber];
    }
    function getResult(){
      if (playerScore>computerScore){
        return "You win the game by: " + playerScore + ":" + computerScore + "! Congratulations!";
      } else if(computerScore>playerScore) {
        return "You lose the game by: " + computerScore + ":" + playerScore + "! Sorry, try again!";
      } else{
        return "The game ends in a draw! The score is: " + playerScore + ":" + computerScore + "!";
      }
    }
    function playRound (playerSelection, computerSelection){
      if (playerSelection.toLowerCase() === 'rock' ){
        switch (computerSelection) {
          case "rock":
          playerScore++;
          computerScore++;
          return "You both selected ROCK, it's a draw!";
          break;
          case "paper":
          computerScore++;
          return "Paper beats rock, you lose!";         
          break;
          case "scissors":
          playerScore++;
          return "Rock beats scissors, you win!";         
          break;
          default:
          return "Something went wrong, check the code buddy.";
          }
      } else if (playerSelection.toLowerCase() === 'paper' ){
        switch (computerSelection) {
          case "rock":
          playerScore++;
          return "Paper beats rock, you win!";
          break;
          case "paper":
          computerScore++;
          playerScore++;
          return "You both selected paper, it's a draw!";
          break;
          case "scissors":
          computerScore++;
          return "Scissors beat paper, you lose!";
          break;
          default:
          return "Something went wrong, check the code buddy.";
          }
      } else if (playerSelection.toLowerCase() === 'scissors' ){
        switch (computerSelection) {
          case "rock":
          computerScore++;
          return "Rock beats scissors, you lose!";
          break;
          case "paper":
          playerScore++;
          return "Scissors beats paper, you win!";
          break;
          case "scissors":
          computerScore++;
          playerScore++;
          return "You both selected scissors, it's a draw!";
          break;
          default:
          return "Something went wrong, check the code buddy.";
          }
      } else {
            round--;
            return "Please select rock, paper or scissors!"
            
          }
    }
    function game(playerButton){
      
      round++;
      para.textContent = playRound(playerButton,computerPlay());
      if (round>=5){
        para.textContent=getResult();
        round = 0;
        playerScore = 0;
        computerScore = 0;
      }
      container.appendChild(para);
      }

  </script>
</body>
</html>